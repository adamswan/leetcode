<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let arr = [100, 4, 200, 1, 3, 2];
      // 输出：4
      // 解释：最长数字连续序列是 [1, 2, 3, 4]。它的长度为 4

      let arr2 = [0, 3, 7, 2, 5, 8, 4, 6, 0, 1];
      // 输出：9

      let arr3 = [0];

      let arr4 = [0, 0];

      let arr5 = [9, 1, 4, 7, 3, -1, 0, 5, 8, -1, 6];

      function getMax(arr) {
        let max = 1; // 最大长度
        let count = 1; // 当前长度

        arr = [...new Set(arr)];

        // 处理边界情况，例如传入 [0]、[0, 0]
        if (arr.length <= 1) {
          return arr.length;
        }

        arr.sort((a, b) => {
          return a - b;
        });

        for (let i = 0; i < arr.length; i++) {
          let item = arr[i]; // 当前元素
          let next = arr[i + 1]; // 下一个元素

          if (next - item === 1) {
            // 相差1，说明是连续的
            count++;
          } else {
            // 不相差1，说明不连续了，要更新最大连续长度
            max = Math.max(max, count);
            // 赋值为1，重新开始计算
            count = 1;
          }
        }

        return max;
      }

      console.log(getMax(arr5));
    </script>
  </body>
</html>
